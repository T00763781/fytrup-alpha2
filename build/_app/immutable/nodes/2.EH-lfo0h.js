import{s as F,B as W,d as v,u as j,g as p,n as k,i as K,y as h,C as Q,j as g,k as b,c as I,p as P,z as X,l as _,a as S,q as B,D as Y,o as $,t as ee,m as te}from"../chunks/scheduler.D4wV5lJR.js";import{S as N,i as J,d as ae,t as re,a as ie,m as ne,e as oe,b as se}from"../chunks/index.D5HGq5EU.js";import{b as y,w as le}from"../chunks/paths.B4HkfBE8.js";import{_ as O}from"../chunks/preload-helper.BQ24v_F8.js";import{g as ce,m as ue}from"../chunks/storage.DEI2aqyf.js";let D=null;async function de(){return D||(D=(async()=>{const t=await O(()=>import("../chunks/leaflet-src.DoEXxWUO.js").then(e=>e.l),__vite__mapDeps([]),import.meta.url);return await O(()=>Promise.resolve({}),__vite__mapDeps([0]),import.meta.url),t.default})()),D}async function he(t){if(!t)return null;if(t._leaflet_map)return t._leaflet_map;const e=await de();if(!e)return null;e.Icon.Default.mergeOptions({iconRetinaUrl:`${y}/icons/marker_unseen.png`,iconUrl:`${y}/icons/marker_unseen.png`,shadowUrl:`${y}/icons/marker_shadow.png`});const r=e.icon({iconUrl:`${y}/icons/marker_unseen.png`,iconSize:[44,44],iconAnchor:[22,44],popupAnchor:[0,-44]}),o=e.icon({iconUrl:`${y}/icons/marker_visited.png`,iconSize:[44,44],iconAnchor:[22,44],popupAnchor:[0,-44]}),s=e.icon({iconUrl:`${y}/icons/marker_completed.png`,iconSize:[50,50],iconAnchor:[25,50],popupAnchor:[0,-50]}),i=[50.6718,-120.3645],c=e.map(t,{center:i,zoom:16,zoomControl:!0});t._leaflet_map=c,e.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"© OpenStreetMap contributors",maxZoom:19}).addTo(c);const a=(await O(()=>Promise.resolve().then(()=>ge),void 0,import.meta.url)).default,l=new Set(ce());return a.forEach(n=>{let m=r;l.has(n.id)&&(m=o),n.completed&&(m=s),e.marker(n.coords,{icon:m}).addTo(c).bindPopup(n.name)}),c}function pe(t){let e,r,o,s,i,c,a,l,n,m,C,u,E,T,w,V="Continue",L,A,U;return{c(){e=_("div"),r=_("div"),o=_("img"),i=S(),c=_("div"),a=B(t[1]),l=S(),n=_("div"),m=B(t[2]),C=S(),u=_("div"),E=B(t[3]),T=S(),w=_("button"),w.textContent=V,this.h()},l(f){e=g(f,"DIV",{class:!0});var d=b(e);r=g(d,"DIV",{class:!0});var M=b(r);o=g(M,"IMG",{class:!0,src:!0,alt:!0}),i=I(M),c=g(M,"DIV",{class:!0});var z=b(c);a=P(z,t[1]),z.forEach(v),M.forEach(v),l=I(d),n=g(d,"DIV",{class:!0});var G=b(n);m=P(G,t[2]),G.forEach(v),C=I(d),u=g(d,"DIV",{class:!0});var H=b(u);E=P(H,t[3]),H.forEach(v),T=I(d),w=g(d,"BUTTON",{class:!0,"data-svelte-h":!0}),X(w)!=="svelte-1tlj5zy"&&(w.textContent=V),d.forEach(v),this.h()},h(){p(o,"class","portrait svelte-ydgxoh"),j(o.src,s=t[4])||p(o,"src",s),p(o,"alt",t[1]),p(c,"class","character svelte-ydgxoh"),p(r,"class","header svelte-ydgxoh"),p(n,"class","title svelte-ydgxoh"),p(u,"class","body svelte-ydgxoh"),p(w,"class","btn svelte-ydgxoh"),p(e,"class",L="panel "+(t[0]?"visible":"")+" svelte-ydgxoh")},m(f,d){K(f,e,d),h(e,r),h(r,o),h(r,i),h(r,c),h(c,a),h(e,l),h(e,n),h(n,m),h(e,C),h(e,u),h(u,E),h(e,T),h(e,w),A||(U=Q(w,"click",t[5]),A=!0)},p(f,[d]){d&16&&!j(o.src,s=f[4])&&p(o,"src",s),d&2&&p(o,"alt",f[1]),d&2&&k(a,f[1]),d&4&&k(m,f[2]),d&8&&k(E,f[3]),d&1&&L!==(L="panel "+(f[0]?"visible":"")+" svelte-ydgxoh")&&p(e,"class",L)},i:W,o:W,d(f){f&&v(e),A=!1,U()}}}function fe(t,e,r){let o,{visible:s=!1}=e,{character:i="Wolfie"}=e,{portrait:c="/characters/wolfie_neutral.png"}=e,{title:a=""}=e,{text:l=""}=e,{poiId:n=null}=e;const m=Y();function C(){m("close",{poiId:n})}return t.$$set=u=>{"visible"in u&&r(0,s=u.visible),"character"in u&&r(1,i=u.character),"portrait"in u&&r(6,c=u.portrait),"title"in u&&r(2,a=u.title),"text"in u&&r(3,l=u.text),"poiId"in u&&r(7,n=u.poiId)},t.$$.update=()=>{t.$$.dirty&64&&r(4,o=`${y}${c}`)},[s,i,a,l,o,C,c,n]}class me extends N{constructor(e){super(),J(this,e,fe,pe,F,{visible:0,character:1,portrait:6,title:2,text:3,poiId:7})}}const Z=[{id:"futureStudentsWelcomeCentre",name:"Future Students Welcome Centre",coords:[50.6712223,-120.3656017],radius:40,character:"wolfie",portrait:"/fytrup-alpha2/characters/wolfie_neutral.png",intro:"Welcome—your TRU journey starts here."},{id:"cplulkwten",name:"Cplul’kw’ten — The Gathering Place",coords:[50.6706792982108,-120.36548203763114],radius:40,character:"wolfie",portrait:"/fytrup-alpha2/characters/wolfie_neutral.png",intro:"A place to ground yourself and feel connected."},{id:"openLearning",name:"BC Centre for Open Learning (OLARA)",coords:[50.66987607492293,-120.36473131436695],radius:40,character:"wolfie",portrait:"/fytrup-alpha2/characters/wolfie_neutral.png",intro:"Flexible pathways start here—online, open, accessible."},{id:"tcc",name:"Tournament Capital Centre (TCC)",coords:[50.66900283034373,-120.3648821914328],radius:40,character:"wolfie",portrait:"/fytrup-alpha2/characters/wolfie_neutral.png",intro:"Fitness, recreation, and movement—your energy hub."},{id:"kenLepinScience",name:"Ken Lepin Science Building (S)",coords:[50.66895404537998,-120.36192719880228],radius:40,character:"wolfie",portrait:"/fytrup-alpha2/characters/wolfie_neutral.png",intro:"Science labs, discovery spaces, and hands-on learning."},{id:"oldGym",name:"Gymnasium (Old Gym)",coords:[50.66928768310049,-120.36377982004406],radius:40,character:"wolfie",portrait:"/fytrup-alpha2/characters/wolfie_neutral.png",intro:"Intramurals, rec classes, and campus activity."},{id:"nph",name:"Chappell Family Building for Nursing & Population Health",coords:[50.669821042288234,-120.36186593487231],radius:40,character:"wolfie",portrait:"/fytrup-alpha2/characters/wolfie_neutral.png",intro:"Where TRU nursing students learn through simulation."},{id:"culinaryCentre",name:"Culinary Arts Training Centre",coords:[50.670058865434555,-120.36272730572743],radius:40,character:"wolfie",portrait:"/fytrup-alpha2/characters/wolfie_neutral.png",intro:"Scratch Café aromas drifting your way..."},{id:"retailMeatStore",name:"Retail Meat Store (Meat-Cutting Program)",coords:[50.669680531924435,-120.36308386179974],radius:40,character:"wolfie",portrait:"/fytrup-alpha2/characters/wolfie_neutral.png",intro:"One-of-a-kind in BC—meat cutting taught hands-on."},{id:"oldMain",name:"Old Main (OM) – Student Street",coords:[50.67123490745108,-120.36344776954364],radius:40,character:"wolfie",portrait:"/fytrup-alpha2/characters/wolfie_neutral.png",intro:"Advising, awards, enrollment, and academic crossroads."},{id:"campusCommons",name:"Campus Commons",coords:[50.67241883084885,-120.36502592837925],radius:40,character:"wolfie",portrait:"/fytrup-alpha2/characters/wolfie_neutral.png",intro:"Events, movement, and wide-open campus life."},{id:"internationalBuilding",name:"International Building (IB)",coords:[50.67223294995966,-120.36386681482455],radius:40,character:"wolfie",portrait:"/fytrup-alpha2/characters/wolfie_neutral.png",intro:"Study Abroad, TRU World, and a global campus community."},{id:"artsEducation",name:"Arts & Education (AE) Building",coords:[50.67318467176194,-120.36459463031238],radius:40,character:"wolfie",portrait:"/fytrup-alpha2/characters/wolfie_neutral.png",intro:"Humanities, teaching, languages, and creative inquiry."},{id:"lookout",name:"Kamloops Lookout",coords:[50.6735662771803,-120.36393665570465],radius:40,character:"wolfie",portrait:"/fytrup-alpha2/characters/wolfie_neutral.png",intro:"Where the rivers meet—your best panoramic moment."},{id:"campusActivityCentre",name:"Campus Activity Centre (CAC)",coords:[50.6725442393673,-120.3660135029301],radius:40,character:"wolfie",portrait:"/fytrup-alpha2/characters/wolfie_neutral.png",intro:"Bookstore, food, TRUSU—your indoor campus hub."},{id:"tradesTechCentre",name:"Trades & Technology Centre (TT)",coords:[50.67172781613885,-120.3679580200668],radius:40,character:"wolfie",portrait:"/fytrup-alpha2/characters/wolfie_neutral.png",intro:"Hands-on trades training in fully equipped shops."},{id:"vtec",name:"Veterinary Technology (VTEC)",coords:[50.67100238049488,-120.37090726565472],radius:40,character:"wolfie",portrait:"/fytrup-alpha2/characters/wolfie_neutral.png",intro:"Animal health labs and vet-tech training."},{id:"houseOfLearning",name:"Brown Family House of Learning (HOL)",coords:[50.67204779633193,-120.36499407113573],radius:40,character:"wolfie",portrait:"/fytrup-alpha2/characters/wolfie_neutral.png",intro:"Library, study floors, and Sk’elep watching over campus."},{id:"horticultureGardens",name:"Horticulture Gardens",coords:[50.67245814073066,-120.36711562980108],radius:40,character:"wolfie",portrait:"/fytrup-alpha2/characters/wolfie_neutral.png",intro:"Living labs for horticulture, ecology, and plant studies."},{id:"careerExperiential",name:"Career & Experiential Learning",coords:[50.670344254973486,-120.3616482892282],radius:40,character:"wolfie",portrait:"/fytrup-alpha2/characters/wolfie_neutral.png",intro:"Co-op, jobs, volunteering—your next step starts here."},{id:"gaglardiSobe",name:"Bob Gaglardi School of Business & Economics (BB)",coords:[50.67076421629197,-120.36296975638686],radius:40,character:"wolfie",portrait:"/fytrup-alpha2/characters/wolfie_neutral.png",intro:"Business, economics, entrepreneurship—your ideas scale here."},{id:"truLaw",name:"TRU Law Building",coords:[50.671101197919654,-120.36164213102707],radius:40,character:"wolfie",portrait:"/fytrup-alpha2/characters/wolfie_neutral.png",intro:"Home of the Juris Doctor—legal study and advocacy."},{id:"allMyRelations",name:"Indigenous Education & All My Relations Research Centre",coords:[50.67023092899578,-120.36164796816838],radius:40,character:"wolfie",portrait:"/fytrup-alpha2/characters/wolfie_neutral.png",intro:"Indigenous scholarship, community research, and shared space."}],ge=Object.freeze(Object.defineProperty({__proto__:null,default:Z},Symbol.toStringTag,{value:"Module"}));function _e(t,e){const o=(e[0]-t[0])*(Math.PI/180),s=(e[1]-t[1])*(Math.PI/180),i=t[0]*(Math.PI/180),c=e[0]*(Math.PI/180),a=Math.sin(o/2),l=Math.sin(s/2),n=a*a+Math.cos(i)*Math.cos(c)*(l*l);return 2*6371e3*Math.asin(Math.sqrt(n))}let q=new Set;function ve(t){if(!("geolocation"in navigator)){console.warn("Geolocation not available.");return}navigator.geolocation.watchPosition(e=>{const{latitude:r,longitude:o}=e.coords,s=[r,o];Z.forEach(i=>{if(q.has(i.id))return;_e(s,i.coords)<=i.radius&&(q.add(i.id),ue(i.id),t(i))})},e=>console.warn("Geolocation error:",e),{enableHighAccuracy:!0})}const R=le({visible:!1,character:"",portrait:"",title:"",text:"",poiId:null});let x=new Set;function ye(){ve(t=>{if(!t||x.has(t.id))return;x.add(t.id);const e=t.portrait?`${y}${t.portrait}`:`${y}/characters/wolfie_neutral.png`;R.set({visible:!0,character:t.character??"Wolfie",portrait:e,title:t.name,text:t.intro,poiId:t.id})})}function we(){R.update(t=>({...t,visible:!1}))}function be(t){let e,r,o,s,i,c;return i=new me({props:{visible:t[0].visible,character:t[0].character,portrait:t[0].portrait,title:t[0].title,text:t[0].text,poiId:t[0].poiId}}),i.$on("close",t[3]),{c(){e=_("div"),r=_("div"),o=S(),s=_("div"),se(i.$$.fragment),this.h()},l(a){e=g(a,"DIV",{class:!0});var l=b(e);r=g(l,"DIV",{id:!0,class:!0}),b(r).forEach(v),o=I(l),s=g(l,"DIV",{class:!0});var n=b(s);oe(i.$$.fragment,n),n.forEach(v),l.forEach(v),this.h()},h(){p(r,"id","map-container"),p(r,"class","svelte-15gl2c"),p(s,"class","dialogue-wrapper svelte-15gl2c"),p(e,"class","page svelte-15gl2c")},m(a,l){K(a,e,l),h(e,r),t[2](r),h(e,o),h(e,s),ne(i,s,null),c=!0},p(a,[l]){const n={};l&1&&(n.visible=a[0].visible),l&1&&(n.character=a[0].character),l&1&&(n.portrait=a[0].portrait),l&1&&(n.title=a[0].title),l&1&&(n.text=a[0].text),l&1&&(n.poiId=a[0].poiId),i.$set(n)},i(a){c||(ie(i.$$.fragment,a),c=!0)},o(a){re(i.$$.fragment,a),c=!1},d(a){a&&v(e),t[2](null),ae(i)}}}function Ce(t,e,r){let o;R.subscribe(a=>r(0,o=a));let s;$(async()=>{await ee(),he(s),ye()});function i(a){te[a?"unshift":"push"](()=>{s=a,r(1,s)})}return[o,s,i,()=>we()]}class Te extends N{constructor(e){super(),J(this,e,Ce,be,F,{})}}export{Te as component};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["../assets/leaflet.HupOsEJb.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}